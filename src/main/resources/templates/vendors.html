<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
    <link rel="icon" th:href="@{/images/favicon.ico}" />
    <title>Vendors</title>
    <script
            src="https://kit.fontawesome.com/3ee52d1216.js"
            crossorigin="anonymous"
    ></script>
</head>
<body>
<div class="modal">
    <div>
        <form action="" class="form">
            <input
                    type="text"
                    name="code"
                    id="code"
                    placeholder="Enter code"
            />
            <input
                    type="submit"
                    name="submit"
                    value="Join"
                    class="btn btn-green"
            />
        </form>
    </div>
</div>
<div class="container">
    <header>
        <div class="logo"><a th:href="@{/}">EventMaster</a></div>
        <nav class="nav">
            <a th:href="@{/home}">Home</a>
            <a th:href="@{/events}">Events</a>
            <a th:href="@{/features}">Features</a>
            <a th:href="@{/about}">About us</a>
        </nav>
        <div class="login-area">
            <div class="flex-row" sec:authorize="isAuthenticated()">
                <form th:action="@{/logout}" method="post">
                    <button type="submit" class="btn btn-green">Logout</button>
                </form>
                <!--                        <a th:href="@{/logout}" class="btn btn-green">Logout</a>-->
                <a th:href="@{/profile}" class="btn">Profile</a>

            </div>
            <div sec:authorize="isAnonymous()">
                <a th:href="@{/login}" class="btn btn-green">Login</a>
                <a th:href="@{/register}" class="btn">Register</a>
            </div>
        </div>
    </header>
    <main class="event-main no-bg">
        <section class="event-section single">
            <h2>Explore vendors</h2>
            <a
                    title="Join by code"
                    class="btn fixed-btn"
                    th:href="@{/vendors/create}"
                    target="_blank"
            >Add a vendor</a
            >
            <div class="events grid-events">
                <ul class="responsive-table" th:if="${not #lists.isEmpty(vendors)}" th:each="vendor: ${vendors}">
                    <li class="table-row">
                        <div class="col col-1">Name</div>
                        <div class="col col-2">
                            <a th:href="@{/vendors/{id}(id=${vendor.getId()})}"
                               th:text="${vendor.getName()}"></a>
                        </div>
                    </li>

                    <li class="table-row">
                        <div class="col col-1">Phone</div>
                        <div class="col col-2" th:text="${vendor.getPhone()}"></div>
                    </li>
                    <li class="table-row">
                        <div class="col col-1">Email</div>
                        <div class="col col-2" th:text="${vendor.getEmail()}"></div>
                    </li>
                    <li class="table-row">
                        <div class="col col-1">Price</div>
                        <div class="col col-2" th:text="${#numbers.formatCurrency(vendor.getPrice().intValue())}"></div>
                    </li>

                    <li class="table-row">
                        <div class="col col-1">City</div>
                        <div class="col col-2" th:text="${vendor.getCity()}"></div>
                    </li>
                    <li class="table-row">
                        <div class="col col-1">Country</div>
                        <div class="col col-2" th:text="${vendor.getCountry()}"></div>
                    </li>
                    <li class="table-row">
                        <div class="col col-1">Category</div>
                        <div class="col col-2">
                            <a th:href="@{/vendors/categories/{id}(id=${vendor.category.getId()})}" th:text="${vendor.getCategory().getTitle()}"
                            ></a
                            >
                        </div>
                    </li>

<!--                    <li class="table-row">-->
<!--                        <div class="col col-1">Actions</div>-->
<!--                        <div class="col col-2 actions">-->
<!--                            <a-->
<!--                                    href="vendor.html"-->
<!--                                    class="btn btn-action-orange"-->
<!--                            >Edit</a-->
<!--                            >-->

<!--                            <a-->
<!--                                    href="javascript:alert('Are you sere?')"-->
<!--                                    class="btn btn-action-red"-->
<!--                            >Delete</a-->
<!--                            >-->
<!--                        </div>-->
<!--                    </li>-->
                </ul>
            </div>
            <div class="div" th:if="${#lists.isEmpty(vendors)}">
                Venues list is empty
            </div>
        </section>
    </main>
    <footer>
        <p class="footer-text">
            &copy; 2023 EventMaster. All rights are reserved. With Love,
            Azimbek
        </p>
    </footer>
</div>
<script th:src="@{/js/app.js}"></script>
</body>
</html>
